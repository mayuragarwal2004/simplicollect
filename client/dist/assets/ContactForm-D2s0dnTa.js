import{d as q,r as a,j as e,b as L,g as F,B as P,s as T}from"./index-CcyABReA.js";import{I as E}from"./input-DI8PfTs9.js";import{T as _}from"./textarea-Bp8Ky6hT.js";import{S as B,a as G,b as H,c as U,d as W}from"./select-B3urF3Hi.js";import{A as V,a as Q}from"./alert-CxhHq2Nn.js";import{M as K,d as O,u as A,x as Y,y as X,j as J,L as Z,q as b,C as D,P as ee,z as te,t as se,A as ae}from"./categories-Dq0BZaPb.js";import{C as ie}from"./circle-alert-DP4OfBmj.js";import{U as ne}from"./user-3DWMXxSa.js";import{M as re}from"./mail-Cvtv1Tdm.js";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ke=q("Globe",le);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ce=q("Send",oe);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],ue=q("Tag",de);class me extends a.Component{getSnapshotBeforeUpdate(h){const n=this.props.childRef.current;if(n&&h.isPresent&&!this.props.isPresent){const x=n.offsetParent,r=O(x)&&x.offsetWidth||0,i=this.props.sizeRef.current;i.height=n.offsetHeight||0,i.width=n.offsetWidth||0,i.top=n.offsetTop,i.left=n.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function he({children:c,isPresent:h,anchorX:n}){const x=a.useId(),r=a.useRef(null),i=a.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:s}=a.useContext(K);return a.useInsertionEffect(()=>{const{width:f,height:d,top:v,left:u,right:g}=i.current;if(h||!r.current||!f||!d)return;const y=n==="left"?`left: ${u}`:`right: ${g}`;r.current.dataset.motionPopId=x;const p=document.createElement("style");return s&&(p.nonce=s),document.head.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${x}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${y}px !important;
            top: ${v}px !important;
          }
        `),()=>{document.head.contains(p)&&document.head.removeChild(p)}},[h]),e.jsx(me,{isPresent:h,childRef:r,sizeRef:i,children:a.cloneElement(c,{ref:r})})}const xe=({children:c,initial:h,isPresent:n,onExitComplete:x,custom:r,presenceAffectsLayout:i,mode:s,anchorX:f})=>{const d=A(fe),v=a.useId();let u=!0,g=a.useMemo(()=>(u=!1,{id:v,initial:h,isPresent:n,custom:r,onExitComplete:y=>{d.set(y,!0);for(const p of d.values())if(!p)return;x&&x()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[n,d,x]);return i&&u&&(g={...g}),a.useMemo(()=>{d.forEach((y,p)=>d.set(p,!1))},[n]),a.useEffect(()=>{!n&&!d.size&&x&&x()},[n]),s==="popLayout"&&(c=e.jsx(he,{isPresent:n,anchorX:f,children:c})),e.jsx(Y.Provider,{value:g,children:c})};function fe(){return new Map}const I=c=>c.key||"";function R(c){const h=[];return a.Children.forEach(c,n=>{a.isValidElement(n)&&h.push(n)}),h}const pe=({children:c,custom:h,initial:n=!0,onExitComplete:x,presenceAffectsLayout:r=!0,mode:i="sync",propagate:s=!1,anchorX:f="left"})=>{const[d,v]=X(s),u=a.useMemo(()=>R(c),[c]),g=s&&!d?[]:u.map(I),y=a.useRef(!0),p=a.useRef(u),C=A(()=>new Map),[l,M]=a.useState(u),[o,S]=a.useState(u);J(()=>{y.current=!1,p.current=u;for(let m=0;m<o.length;m++){const t=I(o[m]);g.includes(t)?C.delete(t):C.get(t)!==!0&&C.set(t,!1)}},[o,g.length,g.join("-")]);const k=[];if(u!==l){let m=[...u];for(let t=0;t<o.length;t++){const j=o[t],N=I(j);g.includes(N)||(m.splice(t,0,j),k.push(j))}return i==="wait"&&k.length&&(m=k),S(R(m)),M(u),null}const{forceRender:$}=a.useContext(Z);return e.jsx(e.Fragment,{children:o.map(m=>{const t=I(m),j=s&&!d?!1:u===o||g.includes(t),N=()=>{if(C.has(t))C.set(t,!0);else return;let w=!0;C.forEach(z=>{z||(w=!1)}),w&&($==null||$(),S(p.current),s&&(v==null||v()),x&&x())};return e.jsx(xe,{isPresent:j,initial:!y.current||n?void 0:!1,custom:h,presenceAffectsLayout:r,mode:i,onExitComplete:j?void 0:N,anchorX:f,children:m},t)})})},$e=({onSuccess:c,onError:h,className:n="",showTitle:x=!0,compact:r=!1})=>{const{isAuthenticated:i}=L(),{memberData:s}=F(),[f,d]=a.useState(!1),[v,u]=a.useState(!1),[g,y]=a.useState(""),[p,C]=a.useState(""),[l,M]=a.useState({name:i?`${(s==null?void 0:s.firstName)||""} ${(s==null?void 0:s.lastName)||""}`.trim():"",email:i&&(s==null?void 0:s.email)||"",phoneNumber:i&&(s==null?void 0:s.phoneNumber)||"",subject:"",message:"",category:"general"}),[o,S]=a.useState({}),k=()=>{const t={};return l.name.trim()||(t.name="Name is required"),l.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l.email)||(t.email="Please enter a valid email address"):t.email="Email is required",l.subject.trim()||(t.subject="Subject is required"),l.message.trim()?l.message.trim().length<10&&(t.message="Message must be at least 10 characters long"):t.message="Message is required",S(t),Object.keys(t).length===0},$=async t=>{var j;if(t.preventDefault(),!!k()){d(!0),y("");try{const N={name:l.name.trim(),email:l.email.trim().toLowerCase(),phoneNumber:((j=l.phoneNumber)==null?void 0:j.trim())||void 0,subject:l.subject.trim(),message:l.message.trim(),category:l.category,source:"web"},w=await ae.submitContactQuery(N);u(!0),C(w.referenceId),M({name:i?`${(s==null?void 0:s.firstName)||""} ${(s==null?void 0:s.lastName)||""}`.trim():"",email:i&&(s==null?void 0:s.email)||"",phoneNumber:i&&(s==null?void 0:s.phoneNumber)||"",subject:"",message:"",category:"general"}),c==null||c(w)}catch(N){const w=N.message||"Failed to submit your query. Please try again.";y(w),h==null||h(w)}finally{d(!1)}}},m=(t,j)=>{M(N=>({...N,[t]:j})),o[t]&&S(N=>({...N,[t]:void 0}))};return v?e.jsx(b.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},className:`bg-white rounded-xl shadow-xl p-8 ${n}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(b.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:e.jsx(D,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Thank You!"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Your query has been submitted successfully. We'll get back to you soon."}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Reference ID:"})," ",p]}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Please save this reference ID for future correspondence."})]}),e.jsx(P,{onClick:()=>u(!1),variant:"outline",className:"mr-3",children:"Submit Another Query"}),i&&e.jsx(P,{onClick:()=>window.location.href="/dashboard/my-queries",className:"bg-blue-600 hover:bg-blue-700",children:"View My Queries"})]})}):e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:`bg-white rounded-xl shadow-xl ${r?"p-6":"p-8"} ${n}`,children:[x&&e.jsxs("div",{className:"mb-6 text-center",children:[e.jsx("h2",{className:`font-bold text-gray-900 ${r?"text-xl":"text-2xl"} mb-2`,children:"Contact Us"}),e.jsx("p",{className:"text-gray-600",children:"Have a question or need help? We're here to assist you."})]}),e.jsx(pe,{children:g&&e.jsx(b.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mb-6",children:e.jsxs(V,{variant:"destructive",children:[e.jsx(ie,{className:"h-4 w-4"}),e.jsx(Q,{children:g})]})})}),e.jsxs("form",{onSubmit:$,className:"space-y-6",children:[e.jsxs("div",{className:`grid gap-6 ${r?"grid-cols-1":"grid-cols-1 md:grid-cols-2"}`,children:[e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:r?"col-span-1":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ne,{className:"inline w-4 h-4 mr-2"}),"Full Name *"]}),e.jsx(E,{type:"text",value:l.name,onChange:t=>m("name",t.target.value),placeholder:"Enter your full name",className:`transition-all duration-200 ${o.name?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,disabled:f}),o.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.name})]}),e.jsxs(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:r?"col-span-1":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(re,{className:"inline w-4 h-4 mr-2"}),"Email Address *"]}),e.jsx(E,{type:"email",value:l.email,onChange:t=>m("email",t.target.value),placeholder:"Enter your email address",className:`transition-all duration-200 ${o.email?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,disabled:f}),o.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.email})]})]}),e.jsxs("div",{className:`grid gap-6 ${r?"grid-cols-1":"grid-cols-1 md:grid-cols-2"}`,children:[e.jsxs(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:r?"col-span-1":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ee,{className:"inline w-4 h-4 mr-2"}),"Phone Number"]}),e.jsx(E,{type:"tel",value:l.phoneNumber,onChange:t=>m("phoneNumber",t.target.value),placeholder:"Enter your phone number",className:"transition-all duration-200 focus:border-blue-500",disabled:f})]}),e.jsxs(b.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},className:r?"col-span-1":"md:col-span-1",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ue,{className:"inline w-4 h-4 mr-2"}),"Category"]}),e.jsxs(B,{value:l.category,onValueChange:t=>m("category",t),disabled:f,children:[e.jsx(G,{children:e.jsx(H,{placeholder:"Select a category"})}),e.jsx(U,{children:te.map(t=>e.jsx(W,{value:t.value,children:t.label},t.value))})]})]})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(se,{className:"inline w-4 h-4 mr-2"}),"Subject *"]}),e.jsx(E,{type:"text",value:l.subject,onChange:t=>m("subject",t.target.value),placeholder:"Brief description of your query",className:`transition-all duration-200 ${o.subject?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,disabled:f}),o.subject&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.subject})]}),e.jsxs(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Message *"}),e.jsx(_,{value:l.message,onChange:t=>m("message",t.target.value),placeholder:"Please provide details about your query...",rows:r?4:6,className:`transition-all duration-200 resize-none ${o.message?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,disabled:f}),o.message&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:o.message}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.message.length,"/1000 characters"]})]}),e.jsx(b.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"flex justify-center",children:e.jsx(P,{type:"submit",disabled:f,className:`${r?"w-full":"w-auto min-w-[200px]"} bg-blue-600 hover:bg-blue-700 text-white font-medium py-3 px-8 rounded-lg transition-all duration-200 transform hover:scale-105 disabled:transform-none disabled:opacity-50`,children:f?e.jsxs(e.Fragment,{children:[e.jsx(T,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Send Message"]})})})]}),!i&&e.jsx(b.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8},className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Have an account?"," ",e.jsx("a",{href:"/auth/signin",className:"text-blue-600 hover:text-blue-700 font-medium",children:"Sign in"})," ","to track your queries and get faster support."]})})]})};export{pe as A,$e as C,ke as G};
