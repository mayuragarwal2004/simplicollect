import{r as R,t as D,R as O,j,n as K}from"./index.js";import{a as Q,b as F}from"./useSlot.js";import{_ as V,m as Y,n as X,f as Z,g as $,a as tt,u as nt,s as et,e as it}from"./TransitionGroupContext.js";function ot(r){var a;return parseInt(R.version,10)>=19?((a=r==null?void 0:r.props)==null?void 0:a.ref)||null:(r==null?void 0:r.ref)||null}const G={disabled:!1};var st=function(a){return a.scrollTop},k="unmounted",v="exited",b="entering",S="entered",_="exiting",d=function(r){V(a,r);function a(i,n){var t;t=r.call(this,i,n)||this;var e=n,o=e&&!e.isMounting?i.enter:i.appear,p;return t.appearStatus=null,i.in?o?(p=v,t.appearStatus=b):p=S:i.unmountOnExit||i.mountOnEnter?p=k:p=v,t.state={status:p},t.nextCallback=null,t}a.getDerivedStateFromProps=function(n,t){var e=n.in;return e&&t.status===k?{status:v}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(n){var t=null;if(n!==this.props){var e=this.state.status;this.props.in?e!==b&&e!==S&&(t=b):(e===b||e===S)&&(t=_)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var n=this.props.timeout,t,e,o;return t=e=o=n,n!=null&&typeof n!="number"&&(t=n.exit,e=n.enter,o=n.appear!==void 0?n.appear:e),{exit:t,enter:e,appear:o}},s.updateStatus=function(n,t){if(n===void 0&&(n=!1),t!==null)if(this.cancelNextCallback(),t===b){if(this.props.unmountOnExit||this.props.mountOnEnter){var e=this.props.nodeRef?this.props.nodeRef.current:D.findDOMNode(this);e&&st(e)}this.performEnter(n)}else this.performExit();else this.props.unmountOnExit&&this.state.status===v&&this.setState({status:k})},s.performEnter=function(n){var t=this,e=this.props.enter,o=this.context?this.context.isMounting:n,p=this.props.nodeRef?[o]:[D.findDOMNode(this),o],u=p[0],c=p[1],g=this.getTimeouts(),C=o?g.appear:g.enter;if(!n&&!e||G.disabled){this.safeSetState({status:S},function(){t.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:b},function(){t.props.onEntering(u,c),t.onTransitionEnd(C,function(){t.safeSetState({status:S},function(){t.props.onEntered(u,c)})})})},s.performExit=function(){var n=this,t=this.props.exit,e=this.getTimeouts(),o=this.props.nodeRef?void 0:D.findDOMNode(this);if(!t||G.disabled){this.safeSetState({status:v},function(){n.props.onExited(o)});return}this.props.onExit(o),this.safeSetState({status:_},function(){n.props.onExiting(o),n.onTransitionEnd(e.exit,function(){n.safeSetState({status:v},function(){n.props.onExited(o)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(n,t){t=this.setNextCallback(t),this.setState(n,t)},s.setNextCallback=function(n){var t=this,e=!0;return this.nextCallback=function(o){e&&(e=!1,t.nextCallback=null,n(o))},this.nextCallback.cancel=function(){e=!1},this.nextCallback},s.onTransitionEnd=function(n,t){this.setNextCallback(t);var e=this.props.nodeRef?this.props.nodeRef.current:D.findDOMNode(this),o=n==null&&!this.props.addEndListener;if(!e||o){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[e,this.nextCallback],u=p[0],c=p[1];this.props.addEndListener(u,c)}n!=null&&setTimeout(this.nextCallback,n)},s.render=function(){var n=this.state.status;if(n===k)return null;var t=this.props,e=t.children;t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef;var o=Y(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return O.createElement(X.Provider,{value:null},typeof e=="function"?e(n,o):O.cloneElement(O.Children.only(e),o))},a}(O.Component);d.contextType=X;d.propTypes={};function y(){}d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y};d.UNMOUNTED=k;d.EXITED=v;d.ENTERING=b;d.ENTERED=S;d.EXITING=_;const rt=r=>r.scrollTop;function W(r,a){const{timeout:s,easing:i,style:n={}}=r;return{duration:n.transitionDuration??(typeof s=="number"?s:s[a.mode]||0),easing:n.transitionTimingFunction??(typeof i=="object"?i[a.mode]:i),delay:n.transitionDelay}}const at={entering:{opacity:1},entered:{opacity:1}},lt=R.forwardRef(function(a,s){const i=Q(),n={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{addEndListener:t,appear:e=!0,children:o,easing:p,in:u,onEnter:c,onEntered:g,onEntering:C,onExit:N,onExited:P,onExiting:M,style:h,timeout:T=n,TransitionComponent:w=d,...U}=a,x=R.useRef(null),L=Z(x,ot(o),s),f=l=>E=>{if(l){const m=x.current;E===void 0?l(m):l(m,E)}},I=f(C),B=f((l,E)=>{rt(l);const m=W({style:h,timeout:T,easing:p},{mode:"enter"});l.style.webkitTransition=i.transitions.create("opacity",m),l.style.transition=i.transitions.create("opacity",m),c&&c(l,E)}),H=f(g),z=f(M),A=f(l=>{const E=W({style:h,timeout:T,easing:p},{mode:"exit"});l.style.webkitTransition=i.transitions.create("opacity",E),l.style.transition=i.transitions.create("opacity",E),N&&N(l)}),q=f(P),J=l=>{t&&t(x.current,l)};return j.jsx(w,{appear:e,in:u,nodeRef:x,onEnter:B,onEntered:H,onEntering:I,onExit:A,onExited:q,onExiting:z,addEndListener:J,timeout:T,...U,children:(l,{ownerState:E,...m})=>R.cloneElement(o,{style:{opacity:0,visibility:l==="exited"&&!u?"hidden":void 0,...at[l],...h,...o.props.style},ref:L,...m})})});function pt(r){return $("MuiBackdrop",r)}tt("MuiBackdrop",["root","invisible"]);const ut=r=>{const{classes:a,invisible:s}=r;return it({root:["root",s&&"invisible"]},pt,a)},ct=et("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(r,a)=>{const{ownerState:s}=r;return[a.root,s.invisible&&a.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),ht=R.forwardRef(function(a,s){const i=nt({props:a,name:"MuiBackdrop"}),{children:n,className:t,component:e="div",invisible:o=!1,open:p,components:u={},componentsProps:c={},slotProps:g={},slots:C={},TransitionComponent:N,transitionDuration:P,...M}=i,h={...i,component:e,invisible:o},T=ut(h),w={transition:N,root:u.Root,...C},U={...c,...g},x={slots:w,slotProps:U},[L,f]=F("root",{elementType:ct,externalForwardedProps:x,className:K(T.root,t),ownerState:h}),[I,B]=F("transition",{elementType:lt,externalForwardedProps:x,ownerState:h});return j.jsx(I,{in:p,timeout:P,...M,...B,children:j.jsx(L,{"aria-hidden":!0,...f,classes:T,ref:s,children:n})})});export{ht as B,d as T,W as a,ot as g,rt as r};
