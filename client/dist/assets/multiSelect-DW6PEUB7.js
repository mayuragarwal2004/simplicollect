import{d as M,r as u,j as e,B as G,e as a,H as K,X as O}from"./index-6elQxnHd.js";import{S as y}from"./separator-CQuc5foV.js";import{B as j}from"./badge-C8uzDnx2.js";import{P as W,a as _,b as X}from"./popover-D0OZeFQ8.js";import{C as R,a as V,b as Y,c as $,d as v,e as b,f as J}from"./command-DbqVVo4r.js";import{C as w}from"./chevron-down-BUZeX_Bt.js";import{C as N}from"./index-BIhwVmuG.js";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],k=M("CircleX",q);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],Q=M("WandSparkles",F),I=K("m-1 transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 duration-300",{variants:{variant:{default:"border-foreground/10 text-foreground bg-card hover:bg-card/80",secondary:"border-foreground/10 bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",inverted:"inverted"}},defaultVariants:{variant:"default"}}),U=u.forwardRef(({options:l,onValueChange:n,variant:p,defaultValue:S=[],placeholder:C="Select options",animation:g=0,maxCount:i=3,modalPopover:D=!1,asChild:ee=!1,className:Z,...P},A)=>{const[t,o]=u.useState(S),[T,c]=u.useState(!1),[d,E]=u.useState(!1),z=r=>{if(r.key==="Enter")c(!0);else if(r.key==="Backspace"&&!r.currentTarget.value){const s=[...t];s.pop(),o(s),n(s)}},f=r=>{const s=t.includes(r)?t.filter(m=>m!==r):[...t,r];o(s),n(s)},h=()=>{o([]),n([])},H=()=>{c(r=>!r)},L=()=>{const r=t.slice(0,i);o(r),n(r)},B=()=>{if(t.length===l.length)h();else{const r=l.map(s=>s.value);o(r),n(r)}};return e.jsxs(W,{open:T,onOpenChange:c,modal:D,children:[e.jsx(_,{asChild:!0,children:e.jsx(G,{ref:A,...P,onClick:H,className:a("flex w-full p-1 rounded-md border min-h-10 h-auto items-center justify-between bg-inherit hover:bg-inherit [&_svg]:pointer-events-auto",Z),children:t.length>0?e.jsxs("div",{className:"flex justify-between items-center w-full",children:[e.jsxs("div",{className:"flex flex-wrap items-center",children:[t.slice(0,i).map(r=>{const s=l.find(x=>x.value===r),m=s==null?void 0:s.icon;return e.jsxs(j,{className:a(d?"animate-bounce":"",I({variant:p})),style:{animationDuration:`${g}s`},children:[m&&e.jsx(m,{className:"h-4 w-4 mr-2"}),s==null?void 0:s.label,e.jsx(k,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:x=>{x.stopPropagation(),f(r)}})]},r)}),t.length>i&&e.jsxs(j,{className:a("bg-transparent text-foreground border-foreground/1 hover:bg-transparent",d?"animate-bounce":"",I({variant:p})),style:{animationDuration:`${g}s`},children:[`+ ${t.length-i} more`,e.jsx(k,{className:"ml-2 h-4 w-4 cursor-pointer",onClick:r=>{r.stopPropagation(),L()}})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(O,{className:"h-4 mx-2 cursor-pointer text-muted-foreground",onClick:r=>{r.stopPropagation(),h()}}),e.jsx(y,{orientation:"vertical",className:"flex min-h-6 h-full"}),e.jsx(w,{className:"h-4 mx-2 cursor-pointer text-muted-foreground"})]})]}):e.jsxs("div",{className:"flex items-center justify-between w-full mx-auto",children:[e.jsx("span",{className:"text-sm text-muted-foreground mx-3",children:C}),e.jsx(w,{className:"h-4 cursor-pointer text-muted-foreground mx-2"})]})})}),e.jsx(X,{className:"w-auto p-0",align:"start",onEscapeKeyDown:()=>c(!1),children:e.jsxs(R,{children:[e.jsx(V,{placeholder:"Search...",onKeyDown:z}),e.jsxs(Y,{children:[e.jsx($,{children:"No results found."}),e.jsxs(v,{className:"h-50 overflow-y-auto w-full [&::-webkit-scrollbar]:w-3 [&::-webkit-scrollbar-track]:bg-gray-100 [&::-webkit-scrollbar-thumb]:bg-gray-300 [&::-webkit-scrollbar-thumb]:rounded-full [&::-webkit-scrollbar-button]:bg-gray-200 [&::-webkit-scrollbar-button]:hover:bg-gray-300 [&::-webkit-scrollbar-button]:h-4 [&::-webkit-scrollbar-button]:w-3 [&::-webkit-scrollbar-button:vertical:start:decrement]:bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTggNEw0IDhIMTJMOCA0WiIgZmlsbD0iIzM3NDE1MSIvPgo8L3N2Zz4K')] [&::-webkit-scrollbar-button:vertical:end:increment]:bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAxNiAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTQgOEw4IDEyTDEyIDhINCIgZmlsbD0iIzM3NDE1MSIvPgo8L3N2Zz4K')] [&::-webkit-scrollbar-button]:bg-no-repeat [&::-webkit-scrollbar-button]:bg-center [&::-webkit-scrollbar-corner]:bg-gray-100",children:[e.jsxs(b,{onSelect:B,className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",t.length===l.length?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"h-4 w-4"})}),e.jsx("span",{children:"(Select All)"})]},"all"),l.map(r=>{const s=t.includes(r.value);return e.jsxs(b,{onSelect:()=>f(r.value),className:"cursor-pointer",children:[e.jsx("div",{className:a("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",s?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:e.jsx(N,{className:"h-4 w-4"})}),r.icon&&e.jsx(r.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:r.label})]},r.value)})]}),e.jsx(J,{}),e.jsx(v,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[t.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(b,{onSelect:h,className:"flex-1 justify-center cursor-pointer",children:"Clear"}),e.jsx(y,{orientation:"vertical",className:"flex min-h-6 h-full"})]}),e.jsx(b,{onSelect:()=>c(!1),className:"flex-1 justify-center cursor-pointer max-w-full",children:"Close"})]})})]})]})}),g>0&&t.length>0&&e.jsx(Q,{className:a("cursor-pointer my-2 text-foreground bg-background w-3 h-3",d?"":"text-muted-foreground"),onClick:()=>E(!d)})]})});U.displayName="MultiSelect";export{U as M};
