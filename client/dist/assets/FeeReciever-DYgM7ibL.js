import{d as oe,r as d,R as Y,j as e,n as O,w as L,B as Q,c as b,Q as h,g as be,t as we,v as Ce,M as Re,s as P}from"./index-CcyABReA.js";import{T as Te,a as Ae,b as Z,c as ee}from"./tabs-BznFmhnr.js";import{B as k}from"./badge-BDjuXPks.js";import{D as de,a as me,b as he,c as pe,e as Fe}from"./dialog-BhvudPjP.js";import{A as De,a as ke,b as Ie,c as Se,f as Me,d as Oe,g as Le,h as Qe}from"./alert-dialog-cHXoqju4.js";import{I as M}from"./input-DI8PfTs9.js";import{L as y}from"./label-DkJgDQ9K.js";import{S as se,a as ae,b as te,c as re,d as V}from"./select-B3urF3Hi.js";import{S as ne}from"./switch-Cyf8udgh.js";import{T as Ee}from"./textarea-Bp8Ky6hT.js";import{T as qe,a as $e,b as ce,c as f,d as Pe,e as N}from"./table-BXqGsErc.js";import{B as ze}from"./banknote-0BhYRU4A.js";import{S as Be}from"./square-pen-HxaETeli.js";import{T as He}from"./trash-2-C_dBBLMq.js";import{C as U}from"./credit-card-DOeWIGKD.js";import"./index-BXwgaSlv.js";import"./index-BBmkKsXB.js";import"./index-B2Rd_dEO.js";import"./index-BiMNnMJT.js";import"./index-Bf-H7HrM.js";import"./index-Bnm6sZYZ.js";import"./index-BdQq_4o_.js";import"./index-sjTRltFJ.js";import"./index-CWw0P0dO.js";import"./index-DshIeolU.js";import"./chevron-down-D_eirmdc.js";/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ve=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],le=oe("Plus",Ve);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],q=oe("QrCode",Ue),_e=({formData:a,setFormData:x,membersList:i,onSubmit:I,onCancel:w,isEditMode:m,receiverType:C})=>{const[R,F]=d.useState(!1),[j,n]=d.useState("");Y.useEffect(()=>{(a.receiverAmountType||a.receiverAmount)&&F(!0)},[a.receiverAmountType,a.receiverAmount]),Y.useEffect(()=>{if(a.enableDate&&a.disableDate){const r=new Date(a.enableDate);new Date(a.disableDate)<r?n("Disable date cannot be before enable date"):n("")}else n("")},[a.enableDate,a.disableDate]);const s=r=>{const{name:p,value:A,files:E,type:l,checked:S}=r.target;x(p==="imageFile"?g=>({...g,[p]:E[0]}):l==="checkbox"?g=>({...g,[p]:S}):g=>({...g,[p]:A}))},c=(r,p)=>{x(A=>({...A,[r]:p}))},v=(r,p)=>{x(A=>({...A,[r]:p}))},D=r=>{F(r),r||x(p=>({...p,receiverAmountType:"",receiverAmount:""}))},o=C==="online",T=r=>{r.preventDefault(),!j&&I(r)};return e.jsx(O,{children:e.jsx(L,{className:"p-6",children:e.jsxs("form",{onSubmit:T,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"memberId",className:"text-sm font-medium",children:"Member *"}),e.jsxs(se,{value:a.memberId,onValueChange:r=>c("memberId",r),children:[e.jsx(ae,{children:e.jsx(te,{placeholder:"Select a member"})}),e.jsx(re,{children:i.map(r=>e.jsxs(V,{value:r.memberId,children:[r.firstName," ",r.lastName]},r.memberId))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(y,{htmlFor:"receiverName",className:"text-sm font-medium",children:[o?"QR Code Name":"Receiver Name"," *"]}),e.jsx(M,{id:"receiverName",name:"receiverName",value:a.receiverName,onChange:s,placeholder:o?"Enter QR code name":"Enter receiver name",required:!0})]}),o&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs(y,{htmlFor:"imageFile",className:"text-sm font-medium",children:["QR Code Image ",!m&&"*"]}),e.jsx(M,{id:"imageFile",name:"imageFile",type:"file",onChange:s,accept:"image/*",required:!m}),m&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"Leave empty to keep current image"})]})}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(y,{className:"text-sm font-medium",children:"Set Receiver Fee Amount"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Configure if this receiver should charge a fee and how much"})]}),e.jsx(ne,{checked:R,onCheckedChange:D})]}),R&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"receiverAmountType",className:"text-sm font-medium",children:"Amount Type"}),e.jsxs(se,{value:a.receiverAmountType||"",onValueChange:r=>c("receiverAmountType",r),children:[e.jsx(ae,{children:e.jsx(te,{placeholder:"Select amount type"})}),e.jsxs(re,{children:[e.jsx(V,{value:"lumpsum",children:"Lumpsum"}),e.jsx(V,{value:"percentage",children:"Percentage"})]})]})]}),a.receiverAmountType==="lumpsum"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"receiverAmount",className:"text-sm font-medium",children:"Amount"}),e.jsx(M,{id:"receiverAmount",name:"receiverAmount",type:"number",value:a.receiverAmount||"",onChange:s,min:"0",step:"0.01",placeholder:"Enter amount"})]}),a.receiverAmountType==="percentage"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"receiverAmount",className:"text-sm font-medium",children:"Percentage (%)"}),e.jsx(M,{id:"receiverAmount",name:"receiverAmount",type:"number",value:a.receiverAmount||"",onChange:s,min:"0",max:"100",step:"0.1",placeholder:"Enter percentage"})]})]})]}),e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(y,{className:"text-sm font-medium",children:"Optional Receiver Fee"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Allow members to choose whether to pay the receiver fee"})]}),e.jsx(ne,{checked:a.receiverFeeOptional||!1,onCheckedChange:r=>v("receiverFeeOptional",r)})]}),a.receiverFeeOptional&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"receiverFeeOptionalMessage",className:"text-sm font-medium",children:"Optional Fee Message"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Enter the message to show when asking for optional fee..."}),e.jsx(Ee,{id:"receiverFeeOptionalMessage",name:"receiverFeeOptionalMessage",value:a.receiverFeeOptionalMessage||"",onChange:s,placeholder:"Would you like to pay the receiver fee? (charges applicable)",rows:3,className:"resize-none"}),e.jsx("p",{className:"text-xs text-gray-500",children:"This message will be shown to members when they can choose to pay the receiver fee"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"enableDate",className:"text-sm font-medium",children:"Enable Date *"}),e.jsx(M,{id:"enableDate",name:"enableDate",type:"date",value:a.enableDate,onChange:s,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{htmlFor:"disableDate",className:"text-sm font-medium",children:"Disable Date *"}),e.jsx(M,{id:"disableDate",name:"disableDate",type:"date",value:a.disableDate,onChange:s,min:a.enableDate||void 0,className:j?"border-red-500 focus:border-red-500":"",required:!0})]})]}),j&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("svg",{className:"h-4 w-4 text-red-500 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),e.jsx("p",{className:"text-red-700 text-sm",children:j})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-6",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:w,children:"Cancel"}),e.jsxs(Q,{type:"submit",disabled:!!j,children:[m?"Update":"Add"," ",o?"QR":"Cash"," ","Receiver"]})]})]})})})},ie=({receivers:a,receiverType:x,onEdit:i,onDelete:I,amountCollected:w})=>{const m=x==="online",[C,R]=d.useState({open:!1,src:"",receiverName:""}),F=s=>{const c=w.find(v=>v.receiverId===s);return c?parseFloat(c.totalAmountCollected||0).toFixed(2):"0.00"},j=(s,c)=>{R({open:!0,src:s,receiverName:c})},n=()=>{R({open:!1,src:"",receiverName:""})};return!a||a.length===0?e.jsx(O,{children:e.jsxs(L,{className:"flex flex-col items-center justify-center py-16 text-center",children:[e.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:m?e.jsx(q,{className:"h-8 w-8 text-muted-foreground"}):e.jsx(ze,{className:"h-8 w-8 text-muted-foreground"})}),e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No receivers found"}),e.jsxs("p",{className:"text-muted-foreground",children:["No ",m?"QR":"cash"," receivers have been added yet."]})]})}):e.jsxs(O,{children:[e.jsx(L,{className:"p-0",children:e.jsxs(qe,{children:[e.jsx($e,{children:e.jsxs(ce,{children:[e.jsx(f,{children:"Receiver Name"}),e.jsx(f,{children:"Member ID"}),m&&e.jsx(f,{children:"QR Image"}),e.jsx(f,{children:"Amount Type"}),e.jsx(f,{children:"Amount"}),e.jsx(f,{children:"Optional Fee"}),e.jsx(f,{children:"Enable Date"}),e.jsx(f,{children:"Disable Date"}),e.jsx(f,{children:"Amount Collected"}),e.jsx(f,{className:"text-right",children:"Actions"})]})}),e.jsx(Pe,{children:a.map(s=>e.jsxs(ce,{children:[e.jsx(N,{className:"font-medium",children:s.receiverName}),e.jsx(N,{className:"text-muted-foreground",children:s.memberId}),m&&e.jsx(N,{children:s.qrImageLink?e.jsx("img",{src:s.qrImageLink,alt:"QR Code",className:"h-12 w-12 object-cover rounded-md border cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>j(s.qrImageLink,s.receiverName),title:"Click to view full size"}):e.jsx("div",{className:"h-12 w-12 bg-muted rounded-md flex items-center justify-center",children:e.jsx(q,{className:"h-6 w-6 text-muted-foreground"})})}),e.jsx(N,{children:s.receiverAmountType?e.jsx(k,{variant:"secondary",className:"capitalize",children:s.receiverAmountType}):e.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),e.jsx(N,{children:s.receiverAmountType==="lumpsum"?e.jsxs(k,{variant:"outline",children:["₹",s.receiverAmount||0]}):s.receiverAmountType==="percentage"?e.jsxs(k,{variant:"outline",children:[s.receiverAmount||0,"%"]}):e.jsx("span",{className:"text-muted-foreground",children:"Not set"})}),e.jsx(N,{children:e.jsx(k,{variant:s.receiverFeeOptional?"default":"secondary",className:s.receiverFeeOptional?"bg-green-100 text-green-800":"",children:s.receiverFeeOptional?"Optional":"Required"})}),e.jsx(N,{className:"text-muted-foreground",children:new Date(s.enableDate).toLocaleDateString()}),e.jsx(N,{className:"text-muted-foreground",children:new Date(s.disableDate).toLocaleDateString()}),e.jsx(N,{children:e.jsxs(k,{variant:"default",className:"bg-green-100 text-green-800 hover:bg-green-100",children:["₹",F(s.receiverId)]})}),e.jsx(N,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>i(s),className:"h-8 w-8 p-0",children:e.jsx(Be,{className:"h-4 w-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>I(s.receiverId,x),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(He,{className:"h-4 w-4"})})]})})]},s.receiverId))})]})}),e.jsx(de,{open:C.open,onOpenChange:n,children:e.jsxs(me,{className:"max-w-2xl",children:[e.jsx(he,{children:e.jsx(pe,{className:"flex items-center justify-between",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-5 w-5"}),"QR Code - ",C.receiverName]})})}),e.jsx("div",{className:"flex justify-center",children:e.jsx("img",{src:C.src,alt:"QR Code Preview",className:"max-w-full max-h-96 object-contain rounded-lg border"})})]})})]})},We=a=>{const[x,i]=d.useState(!1);return{loading:x,fetchAllReceivers:async()=>{i(!0);try{return(await b.get(`/api/feeReceiver/${a}`)).data}catch(n){throw h.error("Failed to fetch fee receivers"),n}finally{i(!1)}},fetchReceiversByType:async n=>{i(!0);try{return(await b.get(`/api/feeReceiver/${a}?type=${n}`)).data}catch(s){throw h.error(`Failed to fetch ${n} receivers`),s}finally{i(!1)}},addReceiver:async(n,s=null)=>{i(!0);try{let c=null;if(s){const o=new FormData;o.append("image",s),o.append("folderName","memberQRCodes"),c=(await b.post("/api/image-upload",o,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrl}const v={...n,...c&&{qrImageLink:c}},D=await b.post(`/api/feeReceiver/${a}`,v);return h.success(`${n.paymentType==="cash"?"Cash":"QR"} receiver added successfully`),D.data}catch(c){throw h.error("Failed to add receiver"),c}finally{i(!1)}},updateReceiver:async(n,s,c=null)=>{i(!0);try{let v=s.qrImageLink;if(c){const T=new FormData;T.append("image",c),T.append("folderName","memberQRCodes"),v=(await b.post("/api/image-upload",T,{headers:{"Content-Type":"multipart/form-data"}})).data.imageUrl}const D={...s,qrImageLink:v},o=await b.put(`/api/feeReceiver/${a}/${n}`,D);return h.success(`${s.paymentType==="cash"?"Cash":"QR"} receiver updated successfully`),o.data}catch(v){throw h.error("Failed to update receiver"),v}finally{i(!1)}},deleteReceiver:async(n,s)=>{i(!0);try{const c=await b.delete(`/api/feeReceiver/${a}/${n}?paymentType=${s}`);return h.success(`${s==="cash"?"Cash":"QR"} receiver deleted successfully`),c.data}catch(c){throw h.error("Failed to delete receiver"),c}finally{i(!1)}},fetchAmountCollected:async()=>{try{return(await b.get(`/api/feeReceiver/amount-collected/${a}`)).data}catch(n){throw h.error("Failed to fetch amount collected"),n}},fetchCurrentReceivers:async n=>{try{return(await b.get(`/api/feeReceiver/current/${a}?date=${n}`)).data}catch(s){throw h.error("Failed to fetch current receivers"),s}}}},Ns=()=>{const{chapterData:a}=be(),[x,i]=d.useState("cash"),[I,w]=d.useState(!1),[m,C]=d.useState(""),[R,F]=d.useState([]),[j,n]=d.useState([]),[s,c]=d.useState([]),[v,D]=d.useState([]),[o,T]=d.useState(null),[r,p]=d.useState(!1),[A,E]=d.useState({open:!1,receiverId:null,paymentType:null}),[l,S]=d.useState({receiverName:"",memberId:"",enableDate:"",disableDate:"",paymentType:"cash",imageFile:null,qrImageLink:"",receiverAmountType:"",receiverAmount:"",receiverFeeOptional:!1,receiverFeeOptionalMessage:""}),{loading:g,fetchReceiversByType:_,addReceiver:ue,updateReceiver:xe,deleteReceiver:ve,fetchAmountCollected:ge}=We(a.chapterId);d.useEffect(()=>{je()},[]);const je=async()=>{await Promise.all([ye(),z(),B(),H()])},ye=async()=>{try{const t=await b.get("/api/member/all",{params:{chapterId:a.chapterId}});c(t.data)}catch{h.error("Failed to fetch members list")}},z=async()=>{try{const t=await _("cash");F(t)}catch(t){console.error("Error fetching cash receivers:",t)}},B=async()=>{try{const t=await _("online");n(t)}catch(t){console.error("Error fetching online receivers:",t)}},H=async()=>{try{const t=await ge();D(t)}catch(t){console.error("Error fetching amount collected:",t)}},W=()=>{S({receiverName:"",memberId:"",enableDate:"",disableDate:"",paymentType:"cash",imageFile:null,qrImageLink:"",receiverAmountType:"",receiverAmount:"",receiverFeeOptional:!1,receiverFeeOptionalMessage:""}),T(null),p(!1)},G=t=>{W(),S(u=>({...u,paymentType:t})),C(t),w(!0)},fe=async t=>{if(t.preventDefault(),!l.memberId){h.error("Please select a member");return}if(!l.receiverName){h.error("Please enter a receiver name");return}if(!l.enableDate||!l.disableDate){h.error("Please select enable and disable dates");return}if(l.paymentType==="online"&&!r&&!l.imageFile){h.error("Please select a QR code image");return}try{const u={receiverName:l.receiverName,memberId:l.memberId,enableDate:l.enableDate,disableDate:l.disableDate,paymentType:l.paymentType,receiverFeeOptional:l.receiverFeeOptional,receiverFeeOptionalMessage:l.receiverFeeOptionalMessage,receiverAmountType:l.receiverAmountType,receiverAmount:l.receiverAmount,...l.paymentType==="online"&&{qrImageLink:(o==null?void 0:o.qrImageLink)||""}};r&&o?await xe(o.receiverId,u,l.imageFile):await ue(u,l.imageFile),l.paymentType==="cash"?await z():await B(),await H(),J()}catch(u){console.error("Error saving receiver:",u)}},J=()=>{w(!1),W()},K=t=>{T(t),p(!0);const u=$=>$?new Date($).toISOString().split("T")[0]:"";S({receiverName:t.receiverName,memberId:t.memberId,enableDate:u(t.enableDate),disableDate:u(t.disableDate),paymentType:t.paymentType,imageFile:null,qrImageLink:t.qrImageLink||"",receiverAmountType:t.receiverAmountType||"",receiverAmount:t.receiverAmount||"",receiverFeeOptional:t.receiverFeeOptional||!1,receiverFeeOptionalMessage:t.receiverFeeOptionalMessage||""}),C(t.paymentType),w(!0)},X=async(t,u)=>{E({open:!0,receiverId:t,paymentType:u})},Ne=async()=>{const{receiverId:t,paymentType:u}=A;try{await ve(t,u),u==="cash"?await z():await B(),await H()}catch($){console.error("Error deleting receiver:",$)}finally{E({open:!1,receiverId:null,paymentType:null})}};return e.jsxs("div",{className:"container mx-auto py-6 space-y-6",children:[e.jsxs(O,{children:[e.jsxs(we,{children:[e.jsxs(Ce,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-6 w-6"}),"Fee Receivers Management"]}),e.jsx(Re,{children:"Manage cash and online payment receivers for your chapter"})]}),e.jsx(L,{children:e.jsxs(Te,{value:x,onValueChange:i,className:"w-full",children:[e.jsxs(Ae,{className:"grid w-full grid-cols-2",children:[e.jsxs(Z,{value:"cash",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Cash Receivers",e.jsx(k,{variant:"secondary",className:"ml-1",children:R.length})]}),e.jsxs(Z,{value:"online",className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4"}),"QR Receivers",e.jsx(k,{variant:"secondary",className:"ml-1",children:j.length})]})]}),e.jsxs(ee,{value:"cash",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Cash Receivers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Members who collect cash payments"})]}),e.jsxs(Q,{onClick:()=>G("cash"),disabled:g,className:"flex items-center gap-2",children:[g?e.jsx(P,{className:"h-4 w-4 animate-spin"}):e.jsx(le,{className:"h-4 w-4"}),"Add Cash Receiver"]})]}),g?e.jsx(O,{children:e.jsx(L,{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(P,{className:"h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading receivers..."})]})})}):e.jsx(ie,{receivers:R,receiverType:"cash",onEdit:K,onDelete:X,amountCollected:v})]}),e.jsxs(ee,{value:"online",className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"QR Code Receivers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Members who collect online payments via QR codes"})]}),e.jsxs(Q,{onClick:()=>G("online"),disabled:g,className:"flex items-center gap-2",children:[g?e.jsx(P,{className:"h-4 w-4 animate-spin"}):e.jsx(le,{className:"h-4 w-4"}),"Add QR Receiver"]})]}),g?e.jsx(O,{children:e.jsx(L,{className:"flex items-center justify-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center gap-2",children:[e.jsx(P,{className:"h-8 w-8 animate-spin text-muted-foreground"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading receivers..."})]})})}):e.jsx(ie,{receivers:j,receiverType:"online",onEdit:K,onDelete:X,amountCollected:v})]})]})})]}),e.jsx(de,{open:I,onOpenChange:w,children:e.jsxs(me,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(he,{children:[e.jsxs(pe,{className:"flex items-center gap-2",children:[m==="cash"?e.jsx(U,{className:"h-5 w-5"}):e.jsx(q,{className:"h-5 w-5"}),r?"Edit":"Add"," ",m==="cash"?"Cash":"QR"," Receiver"]}),e.jsxs(Fe,{children:[r?"Update the":"Add a new"," ",m==="cash"?"cash":"QR code"," receiver for your chapter."]})]}),e.jsx(_e,{formData:l,setFormData:S,membersList:s,onSubmit:fe,onCancel:J,isEditMode:r,receiverType:m})]})}),e.jsx(De,{open:A.open,onOpenChange:t=>!t&&E({open:!1,receiverId:null,paymentType:null}),children:e.jsxs(ke,{children:[e.jsxs(Ie,{children:[e.jsx(Se,{children:"Are you sure?"}),e.jsxs(Me,{children:["This action cannot be undone. This will permanently delete the ",A.paymentType," receiver and remove all associated data."]})]}),e.jsxs(Oe,{children:[e.jsx(Le,{children:"Cancel"}),e.jsx(Qe,{onClick:Ne,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})};export{Ns as default};
