import{r as a,j as l,e as H}from"./index-CcyABReA.js";import{f as $,g as L,c as z,e as G,u as O,P as E,a as g}from"./index-BXwgaSlv.js";import{P as K,h as Z,R as B,u as U,F as q,D as J}from"./index-Bnm6sZYZ.js";import{c as y,R as Q,A as j,C as X,a as Y}from"./index-sjTRltFJ.js";import{P as w}from"./index-BiMNnMJT.js";var _=a.forwardRef((e,r)=>{const{children:o,...n}=e,t=a.Children.toArray(o),s=t.find(oe);if(s){const i=s.props.children,c=t.map(p=>p===s?a.Children.count(i)>1?a.Children.only(null):a.isValidElement(i)?i.props.children:null:p);return l.jsx(x,{...n,ref:r,children:a.isValidElement(i)?a.cloneElement(i,void 0,c):null})}return l.jsx(x,{...n,ref:r,children:o})});_.displayName="Slot";var x=a.forwardRef((e,r)=>{const{children:o,...n}=e;if(a.isValidElement(o)){const t=re(o),s=te(n,o.props);return o.type!==a.Fragment&&(s.ref=r?$(r,t):t),a.cloneElement(o,s)}return a.Children.count(o)>1?a.Children.only(null):null});x.displayName="SlotClone";var ee=({children:e})=>l.jsx(l.Fragment,{children:e});function oe(e){return a.isValidElement(e)&&e.type===ee}function te(e,r){const o={...r};for(const n in r){const t=e[n],s=r[n];/^on[A-Z]/.test(n)?t&&s?o[n]=(...c)=>{s(...c),t(...c)}:t&&(o[n]=t):n==="style"?o[n]={...t,...s}:n==="className"&&(o[n]=[t,s].filter(Boolean).join(" "))}return{...e,...o}}function re(e){var n,t;let r=(n=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?e.ref:(r=(t=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:t.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var R="Popover",[b,Ae]=z(R,[y]),P=y(),[ne,d]=b(R),N=e=>{const{__scopePopover:r,children:o,open:n,defaultOpen:t,onOpenChange:s,modal:i=!1}=e,c=P(r),p=a.useRef(null),[u,h]=a.useState(!1),[m=!1,f]=L({prop:n,defaultProp:t,onChange:s});return l.jsx(Q,{...c,children:l.jsx(ne,{scope:r,contentId:G(),triggerRef:p,open:m,onOpenChange:f,onOpenToggle:a.useCallback(()=>f(C=>!C),[f]),hasCustomAnchor:u,onCustomAnchorAdd:a.useCallback(()=>h(!0),[]),onCustomAnchorRemove:a.useCallback(()=>h(!1),[]),modal:i,children:o})})};N.displayName=R;var F="PopoverAnchor",se=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(F,o),s=P(o),{onCustomAnchorAdd:i,onCustomAnchorRemove:c}=t;return a.useEffect(()=>(i(),()=>c()),[i,c]),l.jsx(j,{...s,...n,ref:r})});se.displayName=F;var S="PopoverTrigger",D=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(S,o),s=P(o),i=O(r,t.triggerRef),c=l.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":t.open,"aria-controls":t.contentId,"data-state":V(t.open),...n,ref:i,onClick:g(e.onClick,t.onOpenToggle)});return t.hasCustomAnchor?c:l.jsx(j,{asChild:!0,...s,children:c})});D.displayName=S;var A="PopoverPortal",[ae,ie]=b(A,{forceMount:void 0}),M=e=>{const{__scopePopover:r,forceMount:o,children:n,container:t}=e,s=d(A,r);return l.jsx(ae,{scope:r,forceMount:o,children:l.jsx(w,{present:o||s.open,children:l.jsx(K,{asChild:!0,container:t,children:n})})})};M.displayName=A;var v="PopoverContent",T=a.forwardRef((e,r)=>{const o=ie(v,e.__scopePopover),{forceMount:n=o.forceMount,...t}=e,s=d(v,e.__scopePopover);return l.jsx(w,{present:n||s.open,children:s.modal?l.jsx(ce,{...t,ref:r}):l.jsx(le,{...t,ref:r})})});T.displayName=v;var ce=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(null),t=O(r,n),s=a.useRef(!1);return a.useEffect(()=>{const i=n.current;if(i)return Z(i)},[]),l.jsx(B,{as:_,allowPinchZoom:!0,children:l.jsx(k,{...e,ref:t,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:g(e.onCloseAutoFocus,i=>{var c;i.preventDefault(),s.current||(c=o.triggerRef.current)==null||c.focus()}),onPointerDownOutside:g(e.onPointerDownOutside,i=>{const c=i.detail.originalEvent,p=c.button===0&&c.ctrlKey===!0,u=c.button===2||p;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:g(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1})})})}),le=a.forwardRef((e,r)=>{const o=d(v,e.__scopePopover),n=a.useRef(!1),t=a.useRef(!1);return l.jsx(k,{...e,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var i,c;(i=e.onCloseAutoFocus)==null||i.call(e,s),s.defaultPrevented||(n.current||(c=o.triggerRef.current)==null||c.focus(),s.preventDefault()),n.current=!1,t.current=!1},onInteractOutside:s=>{var p,u;(p=e.onInteractOutside)==null||p.call(e,s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(t.current=!0));const i=s.target;((u=o.triggerRef.current)==null?void 0:u.contains(i))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&t.current&&s.preventDefault()}})}),k=a.forwardRef((e,r)=>{const{__scopePopover:o,trapFocus:n,onOpenAutoFocus:t,onCloseAutoFocus:s,disableOutsidePointerEvents:i,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:u,onInteractOutside:h,...m}=e,f=d(v,o),C=P(o);return U(),l.jsx(q,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:t,onUnmountAutoFocus:s,children:l.jsx(J,{asChild:!0,disableOutsidePointerEvents:i,onInteractOutside:h,onEscapeKeyDown:c,onPointerDownOutside:p,onFocusOutside:u,onDismiss:()=>f.onOpenChange(!1),children:l.jsx(X,{"data-state":V(f.open),role:"dialog",id:f.contentId,...C,...m,ref:r,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),I="PopoverClose",pe=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=d(I,o);return l.jsx(E.button,{type:"button",...n,ref:r,onClick:g(e.onClick,()=>t.onOpenChange(!1))})});pe.displayName=I;var ue="PopoverArrow",de=a.forwardRef((e,r)=>{const{__scopePopover:o,...n}=e,t=P(o);return l.jsx(Y,{...t,...n,ref:r})});de.displayName=ue;function V(e){return e?"open":"closed"}var fe=N,ve=D,ge=M,W=T;const Oe=fe,Ee=ve,Pe=a.forwardRef(({className:e,align:r="center",sideOffset:o=4,...n},t)=>l.jsx(ge,{children:l.jsx(W,{ref:t,align:r,sideOffset:o,className:H("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...n})}));Pe.displayName=W.displayName;export{Oe as P,Ee as a,Pe as b};
