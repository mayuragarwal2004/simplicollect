import{r as s,j as S,M as C,K as $,k as b}from"./index.js";function N(t,e,{checkForDefaultPrevented:o=!0}={}){return function(i){if(t==null||t(i),o===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function g(t,e){const o=s.createContext(e),u=c=>{const{children:n,...r}=c,f=s.useMemo(()=>r,Object.values(r));return S.jsx(o.Provider,{value:f,children:n})};u.displayName=t+"Provider";function i(c){const n=s.useContext(o);if(n)return n;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${t}\``)}return[u,i]}function O(t,e=[]){let o=[];function u(c,n){const r=s.createContext(n),f=o.length;o=[...o,n];const m=a=>{var h;const{scope:l,children:x,...v}=a,p=((h=l==null?void 0:l[t])==null?void 0:h[f])||r,w=s.useMemo(()=>v,Object.values(v));return S.jsx(p.Provider,{value:w,children:x})};m.displayName=c+"Provider";function d(a,l){var p;const x=((p=l==null?void 0:l[t])==null?void 0:p[f])||r,v=s.useContext(x);if(v)return v;if(n!==void 0)return n;throw new Error(`\`${a}\` must be used within \`${c}\``)}return[m,d]}const i=()=>{const c=o.map(n=>s.createContext(n));return function(r){const f=(r==null?void 0:r[t])||c;return s.useMemo(()=>({[`__scope${t}`]:{...r,[t]:f}}),[r,f])}};return i.scopeName=t,[u,y(i,...e)]}function y(...t){const e=t[0];if(t.length===1)return e;const o=()=>{const u=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(c){const n=u.reduce((r,{useScope:f,scopeName:m})=>{const a=f(c)[`__scope${m}`];return{...r,...a}},{});return s.useMemo(()=>({[`__scope${e.scopeName}`]:n}),[n])}};return o.scopeName=e.scopeName,o}var P=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},E=C[" useId ".trim().toString()]||(()=>{}),R=0;function k(t){const[e,o]=s.useState(E());return P(()=>{o(u=>u??String(R++))},[t]),t||(e?`radix-${e}`:"")}var j=C[" useInsertionEffect ".trim().toString()]||P;function L({prop:t,defaultProp:e,onChange:o=()=>{},caller:u}){const[i,c,n]=M({defaultProp:e,onChange:o}),r=t!==void 0,f=r?t:i;{const d=s.useRef(t!==void 0);s.useEffect(()=>{const a=d.current;a!==r&&console.warn(`${u} is changing from ${a?"controlled":"uncontrolled"} to ${r?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=r},[r,u])}const m=s.useCallback(d=>{var a;if(r){const l=_(d)?d(t):d;l!==t&&((a=n.current)==null||a.call(n,l))}else c(d)},[r,t,c,n]);return[f,m]}function M({defaultProp:t,onChange:e}){const[o,u]=s.useState(t),i=s.useRef(o),c=s.useRef(e);return j(()=>{c.current=e},[e]),s.useEffect(()=>{var n;i.current!==o&&((n=c.current)==null||n.call(c,o),i.current=o)},[o,i]),[o,u,c]}function _(t){return typeof t=="function"}var I=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],U=I.reduce((t,e)=>{const o=$(`Primitive.${e}`),u=s.forwardRef((i,c)=>{const{asChild:n,...r}=i,f=n?o:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),S.jsx(f,{...r,ref:c})});return u.displayName=`Primitive.${e}`,{...t,[e]:u}},{});function B(t,e){t&&b.flushSync(()=>t.dispatchEvent(e))}function F(t){const e=s.useRef(t);return s.useEffect(()=>{e.current=t}),s.useMemo(()=>(...o)=>{var u;return(u=e.current)==null?void 0:u.call(e,...o)},[])}export{U as P,L as a,N as b,O as c,F as d,P as e,g as f,B as g,k as u};
